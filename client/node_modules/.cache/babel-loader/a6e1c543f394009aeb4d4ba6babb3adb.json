{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jau55\\\\git\\\\gita\\\\sp2020_csc190_team-7\\\\reactproject\\\\client\\\\src\\\\components\\\\views\\\\UploadProductPage\\\\UploadProduct.js\";\nimport React from 'react';\nimport { useState } from 'react';\nimport FileUpload from '../../utils/FileUpload';\nimport Axios from 'axios';\n\nfunction UploadProduct(props) {\n  const Category = [{\n    keys: 1,\n    value: \"Shirts\"\n  }, {\n    keys: 2,\n    value: \"Crewneck\"\n  }, {\n    keys: 3,\n    value: \"Hoodie\"\n  }, {\n    keys: 4,\n    value: \"Accessories\"\n  }];\n  const [NameValue, setNameValue] = useState(\"\");\n  const [DescriptionValue, setDescriptionValue] = useState(\"\");\n  const [PriceValue, setPriceValue] = useState(0);\n  const [CategoryValue, setCategoryValue] = useState(1);\n  const [Images, setImages] = useState([]);\n\n  const onNameChange = event => {\n    setNameValue(event.currentTarget.value);\n  };\n\n  const onDescriptionChange = event => {\n    setDescriptionValue(event.currentTarget.value);\n  };\n\n  const onPriceChange = event => {\n    setPriceValue(event.currentTarget.value);\n  };\n\n  const onCategoryChange = event => {\n    setCategoryValue(event.currentTarget.value);\n  };\n\n  const updateImages = newImages => {\n    console.log(newImages);\n    setImages(newImages);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n\n    if (!NameValue || !DescriptionValue || !PriceValue || !CategoryValue || !Images) {\n      return alert('fill all the fields first!');\n    }\n\n    const variables = {\n      writer: props.user.userData._id,\n      product_name: NameValue,\n      description: DescriptionValue,\n      price: PriceValue,\n      images: Images,\n      category: CategoryValue\n    };\n    Axios.post('/api/product/uploadProduct', variables).then(response => {\n      if (response.data.success) {\n        alert('Product Successfully Uploaded');\n        props.history.push('/');\n      } else {\n        alert('Failed to upload Product');\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '700px',\n      margin: '2rem auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Product Upload\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FileUpload, {\n    refreshFunction: updateImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onNameChange,\n    value: NameValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: onDescriptionChange,\n    value: DescriptionValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onPriceChange,\n    value: PriceValue,\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: onCategoryChange,\n    value: CategoryValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, Category.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.key,\n    value: item.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, item.value))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Submit\"));\n}\n\nexport default UploadProduct;","map":{"version":3,"sources":["C:/Users/jau55/git/gita/sp2020_csc190_team-7/reactproject/client/src/components/views/UploadProductPage/UploadProduct.js"],"names":["React","useState","FileUpload","Axios","UploadProduct","props","Category","keys","value","NameValue","setNameValue","DescriptionValue","setDescriptionValue","PriceValue","setPriceValue","CategoryValue","setCategoryValue","Images","setImages","onNameChange","event","currentTarget","onDescriptionChange","onPriceChange","onCategoryChange","updateImages","newImages","console","log","onSubmit","preventDefault","alert","variables","writer","user","userData","_id","product_name","description","price","images","category","post","then","response","data","success","history","push","maxWidth","margin","textAlign","marginBottom","map","item","key"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState } from 'react'\r\nimport FileUpload from '../../utils/FileUpload'\r\nimport Axios from 'axios'\r\nfunction UploadProduct(props) {\r\n\r\n    const Category = [\r\n        { keys: 1, value: \"Shirts\" },\r\n        { keys: 2, value: \"Crewneck\" },\r\n        { keys: 3, value: \"Hoodie\" },\r\n        { keys: 4, value: \"Accessories\" }\r\n    ]\r\n\r\n    const [NameValue, setNameValue] = useState(\"\")\r\n    const [DescriptionValue, setDescriptionValue] = useState(\"\")\r\n    const [PriceValue, setPriceValue] = useState(0)\r\n    const [CategoryValue, setCategoryValue] = useState(1)\r\n    const [Images, setImages] = useState([])\r\n\r\n    const onNameChange = (event) => {\r\n        setNameValue(event.currentTarget.value)\r\n    }\r\n    const onDescriptionChange = (event) => {\r\n        setDescriptionValue(event.currentTarget.value)\r\n    }\r\n    const onPriceChange = (event) => {\r\n        setPriceValue(event.currentTarget.value)\r\n    }\r\n    const onCategoryChange = (event) => {\r\n        setCategoryValue(event.currentTarget.value)\r\n    }\r\n\r\n    const updateImages = (newImages) => {\r\n        console.log(newImages)\r\n        setImages(newImages)\r\n    }\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (!NameValue || !DescriptionValue || !PriceValue ||\r\n            !CategoryValue || !Images) {\r\n            return alert('fill all the fields first!')\r\n        }\r\n\r\n        const variables = {\r\n            writer: props.user.userData._id,\r\n            product_name: NameValue,\r\n            description: DescriptionValue,\r\n            price: PriceValue,\r\n            images: Images,\r\n            category: CategoryValue,\r\n        }\r\n\r\n        Axios.post('/api/product/uploadProduct', variables)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    alert('Product Successfully Uploaded')\r\n                    props.history.push('/')\r\n                } else {\r\n                    alert('Failed to upload Product')\r\n                }\r\n            })\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div style={{ maxWidth: '700px', margin: '2rem auto' }}>\r\n            <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\r\n                <h2>Product Upload</h2>\r\n            </div>\r\n\r\n            <form onSubmit={onSubmit}>\r\n                <FileUpload refreshFunction={updateImages}>\r\n\r\n                </FileUpload>\r\n            </form>\r\n            <br />\r\n            <br />\r\n            <label>Name</label>\r\n            <input\r\n                onChange={onNameChange}\r\n                value={NameValue}\r\n            ></input>\r\n            <br />\r\n            <br />\r\n            <textarea\r\n                onChange={onDescriptionChange}\r\n                value={DescriptionValue}\r\n            ></textarea>\r\n            <br />\r\n            <br />\r\n            <label>Price</label>\r\n            <input\r\n                onChange={onPriceChange}\r\n                value={PriceValue}\r\n                type=\"number\"\r\n            ></input>\r\n            <br />\r\n            <br />\r\n            <select onChange={onCategoryChange} value={CategoryValue}>\r\n\r\n                {Category.map(item => (\r\n                    <option key={item.key} value={item.key}>\r\n                        {item.value}\r\n                    </option>\r\n                ))}\r\n\r\n            </select>\r\n            <br />\r\n            <br />\r\n            <button\r\n                onClick={onSubmit}\r\n            >\r\n                Submit\r\n            </button>\r\n\r\n\r\n        </div>\r\n    )\r\n} export default UploadProduct;"]},"metadata":{},"sourceType":"module"}