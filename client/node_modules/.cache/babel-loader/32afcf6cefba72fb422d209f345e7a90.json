{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\jau55\\\\git\\\\sleepdeprived\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\jau55\\\\git\\\\sleepdeprived\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Dropzone from'react-dropzone';import{CloudUploadOutlined}from'@ant-design/icons';import Axios from'axios';function FileUpload(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Images=_useState2[0],setImages=_useState2[1];var onDelete=function onDelete(image){var currentIndex=Images.indexOf(image);var newImages=_toConsumableArray(Images);newImages.splice(currentIndex,1);setImages(newImages);props.refreshFunction(newImages);};var onDrop=function onDrop(files){var formData=new FormData();var config={header:{'content-type':'multipart/form-data'}};formData.append(\"file\",files[0]);// save file to server\nAxios.post('/api/product/uploadImage',formData,config).then(function(response){if(response.data.success){setImages([].concat(_toConsumableArray(Images),[response.data.image]));props.refreshFunction([].concat(_toConsumableArray(Images),[response.data.image]));}else{alert('Failed to save the Image in Server');}});};return/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-between'}},/*#__PURE__*/React.createElement(Dropzone,{onDrop:onDrop,multiple:false,maxSize:100000000},function(_ref){var getRootProps=_ref.getRootProps,getInputProps=_ref.getInputProps;return/*#__PURE__*/React.createElement(\"div\",Object.assign({style:{width:'300px',height:'240px',border:'solid',borderWidth:'2px',display:'flex',alignItems:'center',justifyContent:'center'}},getRootProps()),/*#__PURE__*/React.createElement(\"input\",getInputProps()),/*#__PURE__*/React.createElement(CloudUploadOutlined,{style:{fontSize:'3rem'}}));}),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',width:'350px',height:'240px',overflowX:'scroll',border:'solid',borderWidth:'2px'}},Images.map(function(image,index){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return onDelete(image);}},/*#__PURE__*/React.createElement(\"img\",{style:{minWidth:'200px',width:'200px',height:'240px'},src:\"http://localhost:5000/\".concat(image),alt:\"productImg-\".concat(index)}));})));}export default FileUpload;","map":{"version":3,"sources":["C:/Users/jau55/git/sleepdeprived/client/src/components/utils/FileUpload.js"],"names":["React","useState","Dropzone","CloudUploadOutlined","Axios","FileUpload","props","Images","setImages","onDelete","image","currentIndex","indexOf","newImages","splice","refreshFunction","onDrop","files","formData","FormData","config","header","append","post","then","response","data","success","alert","display","justifyContent","getRootProps","getInputProps","width","height","border","borderWidth","alignItems","fontSize","overflowX","map","index","minWidth"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\nimport {CloudUploadOutlined} from '@ant-design/icons';\r\nimport Axios from 'axios'\r\n\r\n\r\nfunction FileUpload(props) {\r\n\r\n    const [Images, setImages] = useState([])\r\n    const onDelete = (image) => {\r\n        const currentIndex = Images.indexOf(image);\r\n\r\n        let newImages = [...Images]\r\n        newImages.splice(currentIndex, 1)\r\n\r\n        setImages(newImages)\r\n        props.refreshFunction(newImages)\r\n    }\r\n    const onDrop = (files) => {\r\n        let formData = new FormData();\r\n        const config = {\r\n            header: { 'content-type': 'multipart/form-data' }\r\n        }\r\n        formData.append(\"file\", files[0])\r\n\r\n        // save file to server\r\n        Axios.post('/api/product/uploadImage', formData, config)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n\r\n                    setImages([...Images, response.data.image])\r\n                    props.refreshFunction([...Images, response.data.image])\r\n\r\n                } else {\r\n                    alert('Failed to save the Image in Server')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div style={{display: 'flex', \r\n                    justifyContent: 'space-between'\r\n                    }}>\r\n            <Dropzone\r\n                onDrop={onDrop}\r\n                multiple={false}\r\n                maxSize={100000000}\r\n            >\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div style={{\r\n                        width: '300px', \r\n                        height: '240px',\r\n                        border: 'solid',\r\n                        borderWidth:'2px', \r\n                        display: 'flex',\r\n                        alignItems: 'center', \r\n                        justifyContent: 'center'\r\n                    }}\r\n                        {...getRootProps()}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n\r\n\r\n                        <CloudUploadOutlined style={{ fontSize: '3rem' }} />\r\n\r\n\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n\r\n            <div style={{\r\n                display: 'flex', \r\n                width: '350px',\r\n                height: '240px', \r\n                overflowX: 'scroll', \r\n                border: 'solid',\r\n                borderWidth: '2px'\r\n            }}>\r\n                {Images.map((image, index) => (\r\n                    <div onClick={() => onDelete(image)}>\r\n                        <img style={{ minWidth: '200px', width: '200px', height: '240px' }} src={`http://localhost:5000/${image}`} alt={`productImg-${index}`} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileUpload"]},"metadata":{},"sourceType":"module"}